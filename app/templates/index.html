<!DOCTYPE html>
<html>
  <head>
    <title>Flask CI/CD App</title>
  </head>
  <body>
    <h1>Welcome to Our Flask Application!</h1>
    <p>Version: {{ config.get('VERSION', '1.0.0') }}</p>
    <p>Deployed via CI/CD Pipeline</p>
    <p>Autor: <strong>Philip Oyelegbin</strong></p>
    <p id="ip-block"></p>

    <script>
      // get visitors IP
      const ipElement = document.getElementById("ip-block");
      fetch("https://api.ipify.org?format=json")
        .then((response) => response.json())
        .then((data) => {
          const ip = data.ip;
          ipElement.textContent = `Visitors IP: ${ip}`;
          document.body.appendChild(ipElement);
        })
        .catch(
          (error) => (ipElement.textContent = `Error fetching IP: ${error}`)
        );
    </script>
  </body>
</html>
